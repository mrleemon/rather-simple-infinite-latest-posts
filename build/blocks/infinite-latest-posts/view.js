!function(){var t=document.querySelector(".wp-block-occ-rather-simple-infinite-latest-posts .load-more"),e=sessionStorage.getItem("posts-offset"),s=sessionStorage.getItem("posts-total");null!==e&&(t.dataset.offset=e),null!==s&&(t.dataset.total=s);var o=document.querySelector(".wp-block-occ-rather-simple-infinite-latest-posts .infinite-posts");window.addEventListener("beforeunload",(()=>{sessionStorage.setItem("posts-offset",t.dataset.offset),sessionStorage.setItem("posts-total",t.dataset.total),sessionStorage.setItem("posts-html",o.innerHTML)})),document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".sidebar");var t=document.querySelector(".wp-block-occ-rather-simple-infinite-latest-posts .load-more");if(t){var e=new XMLHttpRequest;e.addEventListener("load",(function(){for(var e="",s=JSON.parse(this.response),o=s.posts,n=s.numposts,a=0;a<o.length;a++){var i=o[a];e+='<article id="post-'+i.ID+'" class="wp-block-occ-rather-simple-infinite-latest-posts__post">',e+='<h2 class="wp-block-occ-rather-simple-infinite-latest-posts__post-title">'+i.post_title+"</h2>",e+='<div class="wp-block-occ-rather-simple-infinite-latest-posts__post-content">'+i.post_content+"</div>",i.post_edit_link&&(e+='<div class="wp-block-occ-rather-simple-infinite-latest-posts__post-meta"><span class="edit-link">'+i.post_edit_link+"</span></div>"),e+="</article>"}document.querySelector(".wp-block-occ-rather-simple-infinite-latest-posts .infinite-posts").insertAdjacentHTML("beforeend",e);var r=new Event("rsilp:insertposts");document.dispatchEvent(r),parseInt(t.getAttribute("data-total"))<=n&&(t.style.display="block")})),e.addEventListener("error",(function(){}));var s="?category="+encodeURIComponent(t.getAttribute("data-category"))+"&number="+encodeURIComponent(t.getAttribute("data-number"))+"&offset=0&total="+encodeURIComponent(t.getAttribute("data-total"));e.open("GET",rsilp_params_rest.rest_url+"rsilp/v1/posts/"+s),e.setRequestHeader("X-WP-Nonce",rsilp_params_rest.rest_nonce),e.send()}(t=document.querySelector(".wp-block-occ-rather-simple-infinite-latest-posts .load-more"))&&t.addEventListener("click",(function(e){e.preventDefault();var s=new XMLHttpRequest;s.addEventListener("load",(function(){for(var e="",s=JSON.parse(this.response),o=s.posts,n=s.numposts,a=0;a<o.length;a++){var i=o[a];e+='<article id="post-'+i.ID+'" class="wp-block-occ-rather-simple-infinite-latest-posts__post">',e+='<h2 class="wp-block-occ-rather-simple-infinite-latest-posts__post-title">'+i.post_title+"</h2>",e+='<div class="wp-block-occ-rather-simple-infinite-latest-posts__post-content">'+i.post_content+"</div>",i.post_edit_link&&(e+='<div class="wp-block-occ-rather-simple-infinite-latest-posts__post-meta"><span class="edit-link">'+i.post_edit_link+"</span></div>"),e+="</article>"}document.querySelector(".wp-block-occ-rather-simple-infinite-latest-posts .infinite-posts").insertAdjacentHTML("beforeend",e),t.setAttribute("data-offset",parseInt(t.getAttribute("data-offset"))+parseInt(t.getAttribute("data-number")));var r=parseInt(t.getAttribute("data-total"))+parseInt(t.getAttribute("data-number"));t.setAttribute("data-total",r),r>=n&&(t.style.display="none")})),s.addEventListener("error",(function(){}));var o="?category="+encodeURIComponent(t.getAttribute("data-category"))+"&number="+encodeURIComponent(t.getAttribute("data-number"))+"&offset="+encodeURIComponent(t.getAttribute("data-offset"))+"&total="+encodeURIComponent(t.getAttribute("data-number"));s.open("GET",rsilp_params_rest.rest_url+"rsilp/v1/posts/"+o),s.setRequestHeader("X-WP-Nonce",rsilp_params_rest.rest_nonce),s.send()}))}))}();
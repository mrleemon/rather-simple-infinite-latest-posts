import*as t from"@wordpress/interactivity";var e={d:(t,o)=>{for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const o=(s={getContext:()=>t.getContext,getElement:()=>t.getElement,store:()=>t.store},n={},e.d(n,s),n);var s,n;(0,o.store)("rsilp-store",{callbacks:{renderPosts(){const t=(0,o.getContext)(),e=(0,o.getElement)();if(null!==t.posts){for(var s="",n=0;n<t.posts.length;n++){var r=t.posts[n];s+='<article id="post-'+r.id+'" class="wp-block-occ-rather-simple-infinite-latest-posts__post">',s+='<h2 class="wp-block-occ-rather-simple-infinite-latest-posts__post-title">'+r.title.rendered+"</h2>",s+='<div class="wp-block-occ-rather-simple-infinite-latest-posts__post-content">'+r.content.rendered+"</div>",s+="</article>"}e.ref.insertAdjacentHTML("beforeend",s);var a=new Event("rsilp:insertposts");document.dispatchEvent(a)}},saveState(){const t=(0,o.getContext)();sessionStorage.setItem("posts-offset",t.offset)}},actions:{*getFirstPosts(){const t=(0,o.getContext)(),e=sessionStorage.getItem("posts-offset")||t.number,s=yield fetch("https://"+window.location.hostname+"/wp-json/wp/v2/posts?per_page="+encodeURIComponent(e)+"&offset=0&categories="+encodeURIComponent(t.category)+"&_fields=id,title,content",{method:"GET",headers:{"Cache-Control":"max-age=60, must-revalidate"}}).then((function(e){return t.total=e.headers.get("X-WP-Total"),e.json()})).catch((function(t){console.error(t)}));t.posts=s,t.offset=parseInt(e),t.display=t.offset<t.total?"block":"none"},*getPosts(){const t=(0,o.getContext)(),e=yield fetch("https://"+window.location.hostname+"/wp-json/wp/v2/posts?per_page="+encodeURIComponent(t.number)+"&offset="+encodeURIComponent(t.offset)+"&categories="+encodeURIComponent(t.category)+"&_fields=id,title,content",{method:"GET",headers:{"Cache-Control":"max-age=60, must-revalidate"}}).then((function(t){return t.json()})).catch((function(t){console.error(t)}));t.posts=e,t.offset=parseInt(t.offset)+parseInt(t.number),t.display=t.offset<t.total?"block":"none"}}});
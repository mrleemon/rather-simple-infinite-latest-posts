import*as e from"@wordpress/interactivity";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=(n={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},s={},t.d(s,n),s);var n,s;(0,o.store)("rsilp-store",{callbacks:{renderPosts(){const e=(0,o.getContext)(),t=(0,o.getElement)();if(e?.posts){const o=document.createDocumentFragment();e.posts.forEach((e=>{const t=document.createElement("article");t.id=`post-${e.id}`,t.className="wp-block-occ-rather-simple-infinite-latest-posts__post";const n=document.createElement("h2");n.className="wp-block-occ-rather-simple-infinite-latest-posts__post-title",n.innerHTML=e.title.rendered;const s=document.createElement("div");s.className="wp-block-occ-rather-simple-infinite-latest-posts__post-content",s.innerHTML=e.content.rendered,t.appendChild(n),t.appendChild(s),o.appendChild(t)})),t.ref.appendChild(o);var n=new Event("rsilp:insertposts");document.dispatchEvent(n)}},saveState(){const e=(0,o.getContext)();sessionStorage.setItem("posts-offset",e.offset)}},actions:{*getFirstPosts(){const e=(0,o.getContext)(),t=sessionStorage.getItem("posts-offset")||e.number,n=yield fetch("https://"+window.location.hostname+"/wp-json/wp/v2/posts?per_page="+encodeURIComponent(t)+"&offset=0&categories="+encodeURIComponent(e.category)+"&_fields=id,title,content",{method:"GET",headers:{"Cache-Control":"max-age=60, must-revalidate"}}).then((function(t){return e.total=t.headers.get("X-WP-Total"),t.json()})).catch((function(e){console.error(e)}));e.posts=n,e.offset=parseInt(t),e.display=e.offset<e.total?"block":"none"},*getPosts(){const e=(0,o.getContext)(),t=yield fetch("https://"+window.location.hostname+"/wp-json/wp/v2/posts?per_page="+encodeURIComponent(e.number)+"&offset="+encodeURIComponent(e.offset)+"&categories="+encodeURIComponent(e.category)+"&_fields=id,title,content",{method:"GET",headers:{"Cache-Control":"max-age=60, must-revalidate"}}).then((function(e){return e.json()})).catch((function(e){console.error(e)}));e.posts=t,e.offset=parseInt(e.offset)+parseInt(e.number),e.display=e.offset<e.total?"block":"none"}}});